{% extends "layout_profiles.html" %}

{% block container %}
<div id="mainContainer" class="row text-center">
    <div class="row">
        <form id="search_community" action="/users/community/" method="get">
            <div style="background-color: #333; height: auto; text-align: center;">
            {% if search %}
                <input style="margin: 10px; border: 0px; border-radius: 3px; padding: 5px; min-width: 30%; height: 30px; font: 14px;" id="search" name="search" value="{{ search }}" placeholder="search members by name...">
            {% else %}
                <input style="margin: 10px; border: 0px; border-radius: 3px; padding: 5px; min-width: 30%; height: 30px; font: 14px;" id="search" name="search" placeholder="search members by name...">
            {% endif %}
            <input type="submit" value="Search">
            </div>
        </form>
    </div>
    <div class="row infinite-container">
        {% include page_template %}

    </div>

</div>
{% endblock %}






{% block scripts %}
      <script type="text/javascript">
      var infinite = new Waypoint.Infinite({
         element: $('.infinite-container')[0]});
      </script>

    <script type="text/javascript">

        // Resizing automatically every thumbnail in order to
        // have 2 profile per column and a horizontal scrolling
        function resizeThumbnails(){
            $(".profile-box").height($(".profile-box").width());
        }
        $(function() {
            resizeThumbnails();
            $(".profile-box").lazyload();
        })
        $(window).resize(function() {
            resizeThumbnails();
        });


		function submitSearch() {
            $('#search_community').submit();
        }

    </script>
{% endblock %}
